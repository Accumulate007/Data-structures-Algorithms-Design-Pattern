<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>队列和双端队列</title>
</head>
<body>




<script>
/**
 *队列和双端队列
 *
 *队列是先进先出(FIFO)原则的一组有序的项。
 * 
 *双端队列同时遵守先进先出和后进先出原则，是一种把队列和栈结合的数据结构。双端队列是一种允许我们同时从前端和后端添加和移除元素的
 *特殊队列。
*/

{
    class Queue{
        constructor() {
            this.count = 0;
            this.lowestCount = 0;
            this.items = {};
        }

        // 项队列添加元素
        enqueue(element) {
            this.items[this.count] = element;
            this.count++;
        }

        // 移除队列元素
        dequeue() {
            if(isEmpty()) {
                return undefined;
            }
            const result = this.items[this.lowestCount];
            delete this.items[this.lowestCount];
            this.lowestCount++;
            return result;
        }

        // 返回队列最前端的元素
        peek() {
            if(isEmpty()) {
                return undefined;
            }
            return this.items[this.lowestCount];
        }

        // 检查队列是否为空
        isEmpty() {
            return this.count - this.lowestCount === 0;
        }

        // 清空队列
        clear() {
            this.items = {};
            this.count = 0;
            this.lowestCount = 0;
        }
    }
}

{
    // 实现双端队列
    class Deque{
        constructor() {
            this.count = 0;
            this.lowestCount = 0;
            this.items = {};
        }

        // 在双端队列前端添加新的元素
        addFront(element) {
            if(this.isEmpty()) {
                return undefined;
            } else if(this.lowestCount > 0) {
                this.lowestCount--;
                this.items[this.lowestCount] = element;
            } else {
                for(let i= this.count;i>0;i--) {
                    this.items[i] = this.items[i-1];
                }
                this.count--;
                this.lowestCount = 0;
                this.items[0] = element;
            }
        }
    }
}



</script>
</body>
</html>